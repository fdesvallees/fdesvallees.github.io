<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Read File as ArrayBuffer</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script type="text/javascript" src="nla.js"></script>

</head>

<style>
html {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 100%;
  
}
 
#page-wrapper {
  width: 600px;
  background: #FFF;
  padding: 1em;
  margin: 1em auto;
  min-height: 300px;
  border-top: 5px solid #69c773;
  box-shadow: 0 2px 10px rgba(0,0,0,0.8);
}
 
h1 {
  margin-top: 0;
}
 
img {
  max-width: 100%;
}
 
#logArea {
  margin-top: 2em;
  width: 100%;
  overflow-x: auto;
}    

.bar {
            fill: steelblue;
    }
  }
</style>
<body>

NINA Log Analyzer

<br>

Based on an idea by <a href="https://bcarter2490.shinyapps.io/NINALogAnalyzer/"> Brian Carter </a> 

<br>

  <input id="inputfile" type="file" >
  <br>

<svg width="1024" height="500"></svg>
  <div id="output"></div>

<pre id="logArea"></pre>

<script type="text/javascript">

  const selectedFile = document.getElementById("inputfile");

  selectedFile.addEventListener('change', function () 
  {
    const fileName = event.target.files[0];
    const reader = new FileReader();
    reader.onload = () => 
    {
      var log = reader.result.split(/\r\n|\n/); // split lines
      var chart = ninaLog(log);
    }
    reader.readAsText(fileName);
  })
  </script>
</body>
</html>